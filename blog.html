<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Blog – Checkpoints ML</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    async function loadPosts() {
      try {
        const res = await fetch('blog.json?v=' + Date.now());
        if (!res.ok) return;
        const posts = await res.json();
        const list = document.getElementById('post-list');
        list.innerHTML = '';
        posts.forEach(p => {
          const li = document.createElement('li');
          const embedUrl = p.source_url || p.url || p.src;
          let hostname = '';
          try { hostname = new URL(embedUrl).hostname.replace(/^www\./, ''); } catch (e) {}
          const blocklist = ['linkedin.com'];
          const blocked = blocklist.includes(hostname);
          if (blocked) {
            li.innerHTML = `<a href="${embedUrl}" target="_blank" rel="noopener noreferrer">${p.title}</a>` + (p.date ? ` <small>${p.date}</small>` : '');
          } else {
            const url = `post.html?url=${encodeURIComponent(embedUrl)}&title=${encodeURIComponent(p.title || '')}&date=${encodeURIComponent(p.date || '')}`;
            li.innerHTML = `<a href="${url}">${p.title}</a>` + (p.date ? ` <small>${p.date}</small>` : '');
          }
          list.appendChild(li);
        });
      } catch (e) {
        // eslint-disable-next-line no-console
        console.error(e);
      }
    }
    document.addEventListener('DOMContentLoaded', loadPosts);
  </script>
</head>
<body>
  <div class="container">
    <header>
      <h1>Blog</h1>
      <p>Blog posts, article reviews,thoughts and updates from our events.</p>
      <nav>
        <a href="index.html">Home</a>
      </nav>
    </header>

    <section>
      <h2>Latest Posts</h2>
      <ul id="post-list">
        <li>Loading…</li>
      </ul>
    </section>
  </div>
</body>
</html> 